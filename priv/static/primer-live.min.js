"use strict";(()=>{var n={mounted(){let e=this.el,t=e.querySelector("[data-content]");if(!(t instanceof HTMLElement)){console.error("Missing element with attribute [data-content]");return}let a=(r,c)=>{var l;(l=this.pushEventTo)==null||l.call(this,r,"primer_live:prompt",{elementId:e.id,status:c})},o=(r,c)=>l=>{let i=l.detail.selector;if(!i){console.error("Missing status_callback_selector");return}a(i,r),t.addEventListener("transitionend",function(d){a(i,c)},{once:!0})};this.handlePromptOpen=o("opening","open"),e.addEventListener("prompt:open",this.handlePromptOpen),this.handlePromptClose=o("closing","closed"),e.addEventListener("prompt:close",this.handlePromptClose)},destroyed(){this.el&&(this.handlePromptOpen&&this.el.removeEventListener("prompt:open",this.handlePromptOpen),this.handlePromptClose&&this.el.removeEventListener("prompt:close",this.handlePromptClose))}};typeof window<"u"&&(window.Prompt=n);window.addEventListener("keydown",s);function s(e){if(e.key==="Escape"){let t=Array.from(document.querySelectorAll("[data-prompt].is-open")).filter(o=>o.dataset.isescapable!==void 0),a=t.reverse()[0];if(!(a instanceof HTMLElement))return;t.forEach(o=>{let r=o.querySelector("[data-focuswrap]");if(r instanceof HTMLElement){let c=o==a?"Escape":"Escape_disabled";r.setAttribute("phx-key",c)}})}}})();
