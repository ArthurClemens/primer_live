"use strict";(()=>{var n={mounted(){let r=this.el,t=r.querySelector("[data-content]");if(!(t instanceof HTMLElement)){console.error("Missing element with attribute [data-content]");return}let a=(e,c)=>{var l;(l=this.pushEventTo)==null||l.call(this,e,"primer_live:prompt",{elementId:r.id,selector:e,status:c})},o=(e,c)=>l=>{let i=l.detail.selector;if(!i){console.error("Missing status_callback_selector");return}a(i,e),t.addEventListener("transitionend",function(d){a(i,c)},{once:!0})};this.handlePromptOpen=o("opening","opened"),r.addEventListener("prompt:open",this.handlePromptOpen),this.handlePromptClose=o("closing","closed"),r.addEventListener("prompt:close",this.handlePromptClose)},destroyed(){this.el&&(this.handlePromptOpen&&this.el.removeEventListener("prompt:open",this.handlePromptOpen),this.handlePromptClose&&this.el.removeEventListener("prompt:close",this.handlePromptClose))}};typeof window<"u"&&(window.Prompt=n);window.addEventListener("keydown",s);function s(r){if(r.key==="Escape"){let t=Array.from(document.querySelectorAll("[data-prompt].is-open")).filter(o=>o.dataset.isescapable!==void 0),a=t.reverse()[0];if(!(a instanceof HTMLElement))return;t.forEach(o=>{let e=o.querySelector("[data-focuswrap]");if(e instanceof HTMLElement){let c=o==a?"Escape":"Escape_disabled";e.setAttribute("phx-key",c)}})}}})();
