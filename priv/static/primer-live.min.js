"use strict";(()=>{var W=Object.defineProperty,D=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var j=(o,e,r)=>e in o?W(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,g=(o,e)=>{for(var r in e||(e={}))G.call(e,r)&&j(o,r,e[r]);if(I)for(var r of I(e))_.call(e,r)&&j(o,r,e[r]);return o},h=(o,e)=>D(o,E(e));var P=o=>new Promise(e=>setTimeout(e,o)),Z=(o,e)=>e.reduce((r,t)=>r!=="0s"?r:o.getPropertyValue(t),"0s"),M=({domElement:o,props:e})=>{let r=document.defaultView;if(r){let t=r.getComputedStyle(o);if(t)return Z(t,e)}},R=o=>{let e=parseFloat(o)*(o.indexOf("ms")===-1?1e3:1);return Number.isNaN(e)?0:e},O=o=>{let e=M({domElement:o,props:["animation-duration","transition-duration"]}),r=e!==void 0?R(e):0,t=M({domElement:o,props:["animation-delay","transition-delay"]}),a=t!==void 0?R(t):0;return r+a},z=o=>o.scrollTop,U=o=>{let e=typeof window<"u"?window.getComputedStyle(o):{};return e.opacity==="0"||e.display==="none"?!1:!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},H=(o,e)=>o instanceof HTMLAnchorElement&&o.rel!=="ignore"||o instanceof HTMLAreaElement&&o.href!==void 0||[HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement,HTMLButtonElement].some(r=>o instanceof r)&&!o.disabled||o instanceof HTMLIFrameElement||o.tabIndex>0||!e&&o.tabIndex===0&&o.getAttribute("tabindex")!==null&&o.getAttribute("aria-hidden")!=="true",B=o=>[].slice.call(o.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])")).filter(r=>r.getAttribute("aria-hidden")!=="true").filter(r=>H(r,!0)).sort((r,t)=>r.tabIndex-t.tabIndex)[0]||o,Y=(o,e,r)=>{e&&(o[e]||(o[e]=JSON.stringify(r)))},V=(o,e)=>{if(e)return JSON.parse(o[e])},N=(o,e)=>{e&&delete o[e]},X=(o,e)=>{!e||!o||Object.keys(o).forEach(r=>{e.dataset[r]=o[r]})},L="[data-prompt]",T="[data-content]",Q="[data-touch]",J="[data-backdrop]",q="[data-toggle]",K="ismodal",oo="isescapable",eo="isfocusfirst",ro="focusfirst",$="isopen",w="islocked",to=300,v={isOpen:!1,willShow:!1,didShow:!1,willHide:!1,didHide:!1},C=async(o,e={})=>{var c,f,b,p;let{content:r,escapeListener:t,isDetails:a,isEscapable:l,keyDownListenerElement:i,prompt:n,root:s}=o;if(s.dataset[w]!==void 0&&!e.isIgnoreLockDuration)return;n.status=h(g({},v),{isOpen:!0,willHide:!0}),(c=e.willHide)==null||c.call(e,o),(f=e.getStatus)==null||f.call(e,n.status),delete s.dataset[$];let d=O(r);await P(d),a&&s.removeAttribute("open"),r.tagName=="DIALOG"&&(r.close(),z(r)),n.status=h(g({},v),{didHide:!0}),(b=e.getStatus)==null||b.call(e,n.status),(p=e.didHide)==null||p.call(e,o),l&&i.removeEventListener("keydown",t),no()},A=async(o,e={})=>{var b,p,u,k;let{content:r,escapeListener:t,focusFirstSelector:a,isDetails:l,isEscapable:i,isFocusFirst:n,keyDownListenerElement:s,prompt:d,root:c}=o;if(c.dataset[w]!==void 0)return;c.dataset[w]="",setTimeout(()=>{c&&delete c.dataset[w]},to),i&&s.addEventListener("keydown",t),l&&(c.setAttribute("open",""),z(c)),c.dataset[$]="",z(c),d.status=h(g({},v),{willShow:!0}),(b=e.willShow)==null||b.call(e,o),(p=e.getStatus)==null||p.call(e,d.status);let f=O(r);await P(f),io(r,n,a),d.status=h(g({},v),{didShow:!0,isOpen:!0}),(u=e.didShow)==null||u.call(e,o),(k=e.getStatus)==null||k.call(e,d.status)},F=async(o,e=2,r)=>{switch(e){case 0:return await A(o,r);case 1:return await C(o,r);default:return U(o.content)?await C(o,r):await A(o,r)}},ao=(o,e,r,t)=>{let a=null;if(!r&&e?a=e:typeof r=="string"?a=document.querySelector(r):r&&r.tagName&&(a=r.closest(L)),!a){console.error("Prompt element 'data-prompt' not found");return}let l=a.querySelector(T);if(!l){console.error("Prompt element 'data-content' not found");return}l.getAttribute("tabIndex")||l.setAttribute("tabIndex","0");let i=a.querySelector(q)||a.querySelector("summary"),n=a.querySelector(Q),s=a.querySelector(J),d=a.tagName==="DETAILS",c=a.dataset[K]!==void 0,f=a.dataset[oo]!=="false",b=l.getAttribute("aria-role")=="menu",p=b?a.dataset[eo]!==void 0:!0,u=b?window:l,k=a.dataset[ro],x={backdropLayer:s,content:l,focusFirstSelector:k,isDetails:d,isEscapable:f,isFocusFirst:p,isMenuContent:b,isModal:c,keyDownListenerElement:u,prompt:o,root:a,toggle:i,touchLayer:n,escapeListener:function(m){m.key==="Escape"&&[].slice.call(document.querySelectorAll("".concat(L,"[data-").concat($,"]"))).reverse()[0]===x.root&&C(x,h(g({},t),{isIgnoreLockDuration:!0}))},clickTouchLayerListener:function(m){m.target===n&&(c||F(x,1,t))},clickToggleListener:function(m){m.preventDefault(),m.stopPropagation(),F(x,void 0,t)}};return x},co=o=>{let{toggle:e,clickToggleListener:r}=o;e&&e.dataset.registered!==""&&(e.addEventListener("click",r),e.dataset.registered="")},lo=o=>{let{clickTouchLayerListener:e,touchLayer:r}=o;r&&r.dataset.registered!==""&&(r.addEventListener("click",e),r.dataset.registered="")},io=(o,e,r)=>{let t=null;r?t=o.querySelector(r):e&&(t=B(o)),t||(t=o),t.focus()},no=()=>{let e=[].slice.call(document.querySelectorAll("".concat(L,"[data-").concat($,"]"))).reverse()[0],r=e==null?void 0:e.querySelector(T),t=r&&B(r);t&&t.focus()};async function y(o,e,r,t){o.options=g(g({},o.options),r);let a=ao(o,o.el,e,o.options);if(a===void 0)return;o.el||(o.el=a==null?void 0:a.root);let{root:l,content:i,isDetails:n,backdropLayer:s}=a;if(Number.isInteger(r==null?void 0:r.transitionDuration)){let c="".concat(r==null?void 0:r.transitionDuration,"ms");i.style.setProperty("--prompt-transition-duration-content",c),i.style.setProperty("--prompt-fast-transition-duration-content",c),s&&(s.style.setProperty("--prompt-transition-duration-backdrop",c),s.style.setProperty("--prompt-fast-transition-duration-backdrop",c))}i.tagName=="DIALOG"&&(i.show(),z(i)),co(a),lo(a),n&&l.getAttribute("open")!==null&&t!==1&&A(a,o.options),t!==void 0&&await F(a,t,o.options)}var S={_cache:{},mounted(){},beforeUpdate(){var o,e;Y(this._cache,(o=this.el)==null?void 0:o.id,(e=this.el)==null?void 0:e.dataset)},updated(){var e,r;let o=V(this._cache,(e=this.el)==null?void 0:e.id);X(o,this.el),N(this._cache,(r=this.el)==null?void 0:r.id)},destroyed(){var o;N(this._cache,(o=this.el)==null?void 0:o.id)},status:v,async init(o,e){await y(this,o,e)},async toggle(o,e){await y(this,o,e,2)},async show(o,e){await y(this,o,e,0)},async hide(o,e){await y(this,o,e,1)}};typeof window<"u"&&(window.Prompt=S);function so(o){let e=o.target;if(!(e instanceof HTMLElement))return;let r={show:S.show,hide:S.hide},t=o.detail.action,l={transitionDuration:o.detail.transitionDuration};t&&r[t](e,l)}window.addEventListener("prompt:toggle",so);})();
