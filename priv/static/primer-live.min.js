"use strict";(()=>{var s={mounted(){window.addEventListener("phx:pl-session",e=>fetch(`/api/pl-session?payload=${JSON.stringify(e.detail)}`,{method:"post"}))}};window.Session=s;function a(e){let t=e.closest("[data-prompt]");if(!t)return null;let n=t.querySelector('input[type="checkbox"]');return n||null}function i(e){let t=null;if(typeof e=="string"){let n=document.querySelector(e);n&&(t=n.querySelector('input[type="checkbox"]'))}else t=a(e);return t}function m(e){let t=e.closest("[data-prompt]");if(!t)throw new Error("Prompt element 'data-prompt' not found");let n=(t==null?void 0:t.querySelector("[data-prompt-content]"))||null;if(!n)throw new Error("Prompt element 'data-prompt-content' not found");let o=n==null?void 0:n.querySelector("[data-content]");if(!o)throw new Error("Prompt element 'data-content' not found");let l=(n==null?void 0:n.querySelector("[data-touch]"))||null,r=(t==null?void 0:t.querySelector("label"))||null;return{root:t,touchLayer:l,content:o,toggle:r}}function d({checkbox:e,state:t,elements:n,options:o}){switch(t){case"showing":delete e.dataset.ishiding,e.dataset.isshowing="",o.willShow&&o.willShow(n);break;case"endShowing":delete e.dataset.isshowing,o.didShow&&o.didShow(n);break;case"hiding":delete e.dataset.isshowing,e.checked=!1,e.dataset.ishiding="",o.willHide&&o.willHide(n);break;case"endHiding":delete e.dataset.ishiding,o.didHide&&o.didHide(n);break;default:break}}var p={mounted(){},change:function(e,t={}){let n=m(e);e.addEventListener("transitionend",function(o){d({checkbox:e,state:e.checked?"endShowing":"endHiding",elements:n,options:t})},{once:!0}),d({checkbox:e,state:e.checked?"showing":"hiding",elements:n,options:t})},hide:function(e){var t;if(typeof e!="string"&&e.dataset.touch!==void 0){let n=e.closest("[data-prompt]");if((n==null?void 0:n.dataset.ismodal)!==void 0)return}(t=i(e))==null||t.click()},show:function(e){var t;(t=i(e))==null||t.click()}};typeof window<"u"&&(window.Prompt=p);})();
