"use strict";(()=>{var V=Object.defineProperty,X=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var I=(t,a,r)=>a in t?V(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(t,a)=>{for(var r in a||(a={}))q.call(a,r)&&I(t,r,a[r]);if(_)for(var r of _(a))U.call(a,r)&&I(t,r,a[r]);return t},h=(t,a)=>X(t,R(a));var H=t=>new Promise(a=>setTimeout(a,t)),$=(t,a)=>a.reduce((r,e)=>r!=="0s"?r:t.getPropertyValue(e),"0s"),C=({domElement:t,props:a})=>{let r=document.defaultView;if(r){let e=r.getComputedStyle(t);if(e)return $(e,a)}},F=t=>{let a=parseFloat(t)*(t.indexOf("ms")===-1?1e3:1);return Number.isNaN(a)?0:a},N=t=>{let a=C({domElement:t,props:["animation-duration","transition-duration"]}),r=a!==void 0?F(a):0,e=C({domElement:t,props:["animation-delay","transition-delay"]}),i=e!==void 0?F(e):0;return r+i},E=t=>t.scrollTop,G=t=>{let a=typeof window<"u"?window.getComputedStyle(t):{};return a.opacity==="0"||a.display==="none"?!1:!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},B=(t,a)=>t instanceof HTMLAnchorElement&&t.rel!=="ignore"||t instanceof HTMLAreaElement&&t.href!==void 0||[HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement,HTMLButtonElement].some(r=>t instanceof r)&&!t.disabled||t instanceof HTMLIFrameElement||t.tabIndex>0||!a&&t.tabIndex===0&&t.getAttribute("tabindex")!==null&&t.getAttribute("aria-hidden")!=="true",z=t=>[].slice.call(t.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])")).filter(r=>r.getAttribute("aria-hidden")!=="true").filter(r=>B(r,!0)).sort((r,e)=>r.tabIndex-e.tabIndex)[0]||t,K=(t,a,r)=>{a&&(t[a]||(t[a]=JSON.stringify(r)))},J=(t,a)=>{if(a)return JSON.parse(t[a])},P=(t,a)=>{a&&delete t[a]},j=(t,a)=>{!a||!t||Object.keys(t).forEach(r=>{a.dataset[r]=t[r]})},x="[data-prompt]",M="[data-content]",W="[data-touch]",Y="[data-backdrop]",Q="[data-toggle]",Z="ismodal",tt="isescapable",at="isfocusfirst",rt="focusfirst",L="isopen",S="islocked",et=300,y={isOpen:!1,willShow:!1,didShow:!1,willHide:!1,didHide:!1},A=async(t,a={})=>{var n,f,u,m;let{content:r,escapeListener:e,isDetails:i,isEscapable:o,keyDownListenerElement:d,prompt:s,root:p}=t;if(p.dataset[S]!==void 0&&!a.isIgnoreLockDuration)return;s.status=h(l({},y),{isOpen:!0,willHide:!0}),(n=a.willHide)==null||n.call(a,t),(f=a.getStatus)==null||f.call(a,s.status),delete p.dataset[L];let c=N(r);await H(c),i&&p.removeAttribute("open"),r.tagName=="DIALOG"&&(r.close(),E(r)),s.status=h(l({},y),{didHide:!0}),(u=a.getStatus)==null||u.call(a,s.status),(m=a.didHide)==null||m.call(a,t),o&&d.removeEventListener("keydown",e),st()},D=async(t,a={})=>{var u,m,g,b;let{content:r,escapeListener:e,focusFirstSelector:i,isDetails:o,isEscapable:d,isFocusFirst:s,keyDownListenerElement:p,prompt:c,root:n}=t;if(n.dataset[S]!==void 0)return;n.dataset[S]="",setTimeout(()=>{n&&delete n.dataset[S]},et),d&&p.addEventListener("keydown",e),o&&(n.setAttribute("open",""),E(n)),n.dataset[L]="",E(n),c.status=h(l({},y),{willShow:!0}),(u=a.willShow)==null||u.call(a,t),(m=a.getStatus)==null||m.call(a,c.status);let f=N(r);await H(f),dt(r,s,i),c.status=h(l({},y),{didShow:!0,isOpen:!0}),(g=a.didShow)==null||g.call(a,t),(b=a.getStatus)==null||b.call(a,c.status)},O=async(t,a=2,r)=>{switch(a){case 0:return await D(t,r);case 1:return await A(t,r);default:return G(t.content)?await A(t,r):await D(t,r)}},it=(t,a,r,e)=>{let i=null;if(!r&&a?i=a:typeof r=="string"?i=document.querySelector(r):r&&r.tagName&&(i=r.closest(x)),!i){console.error("Prompt element 'data-prompt' not found");return}let o=i.querySelector(M);if(!o){console.error("Prompt element 'data-content' not found");return}o.getAttribute("tabIndex")||o.setAttribute("tabIndex","0");let d=i.querySelector(Q)||i.querySelector("summary"),s=i.querySelector(W),p=i.querySelector(Y),c=i.tagName==="DETAILS",n=i.dataset[Z]!==void 0,f=i.dataset[tt]!=="false",u=o.getAttribute("aria-role")=="menu",m=u?i.dataset[at]!==void 0:!0,g=u?window:o,b=i.dataset[rt],v={backdropLayer:p,content:o,focusFirstSelector:b,isDetails:c,isEscapable:f,isFocusFirst:m,isMenuContent:u,isModal:n,keyDownListenerElement:g,prompt:t,root:i,toggle:d,touchLayer:s,escapeListener:function(w){w.key==="Escape"&&[].slice.call(document.querySelectorAll("".concat(x,"[data-").concat(L,"]"))).reverse()[0]===v.root&&A(v,h(l({},e),{isIgnoreLockDuration:!0}))},clickTouchLayerListener:function(w){w.target===s&&(n||O(v,1,e))},clickToggleListener:function(w){w.preventDefault(),w.stopPropagation(),O(v,void 0,e)}};return v},nt=t=>{let{toggle:a,clickToggleListener:r}=t;a&&a.dataset.registered!==""&&(a.addEventListener("click",r),a.dataset.registered="")},ot=t=>{let{clickTouchLayerListener:a,touchLayer:r}=t;r&&r.dataset.registered!==""&&(r.addEventListener("click",a),r.dataset.registered="")},dt=(t,a,r)=>{let e=null;r?e=t.querySelector(r):a&&(e=z(t)),e||(e=t),e.focus()},st=()=>{let a=[].slice.call(document.querySelectorAll("".concat(x,"[data-").concat(L,"]"))).reverse()[0],r=a==null?void 0:a.querySelector(M),e=r&&z(r);e&&e.focus()};async function k(t,a,r,e){t.options=l(l({},t.options),r);let i=it(t,t.el,a,t.options);if(i===void 0)return;t.el||(t.el=i==null?void 0:i.root);let{root:o,content:d,isDetails:s,backdropLayer:p}=i;if(Number.isInteger(r==null?void 0:r.transitionDuration)){let n="".concat(r==null?void 0:r.transitionDuration,"ms");d.style.setProperty("--prompt-transition-duration-content",n),d.style.setProperty("--prompt-fast-transition-duration-content",n),p&&(p.style.setProperty("--prompt-transition-duration-backdrop",n),p.style.setProperty("--prompt-fast-transition-duration-backdrop",n))}d.tagName=="DIALOG"&&(d.show(),E(d)),nt(i),ot(i),s&&o.getAttribute("open")!==null&&e!==1&&D(i,t.options),e!==void 0&&await O(i,e,t.options)}var T={_cache:{},mounted(){},beforeUpdate(){var t,a;K(this._cache,(t=this.el)==null?void 0:t.id,(a=this.el)==null?void 0:a.dataset)},updated(){var a,r;let t=J(this._cache,(a=this.el)==null?void 0:a.id);j(t,this.el),P(this._cache,(r=this.el)==null?void 0:r.id)},destroyed(){var t;P(this._cache,(t=this.el)==null?void 0:t.id)},status:y,async init(t,a){await k(this,t,a)},async toggle(t,a){await k(this,t,a,2)},async show(t,a){await k(this,t,a,0)},async hide(t,a){await k(this,t,a,1)}};typeof window<"u"&&(window.Prompt=T);function pt(t){let a=t.target;if(!(a instanceof HTMLElement))return;let r={show:T.show,hide:T.hide},e=t.detail.action,o={transitionDuration:t.detail.transitionDuration};e&&r[e](a,o)}window.addEventListener("prompt:toggle",pt);})();
